# æ´»åŠ¨è¡Œçº¿ä¸‹æ´»åŠ¨é‡‡é›†å·¥å…·ä½¿ç”¨æŒ‡å—

## ğŸ¯ å·¥å…·æ¦‚è¿°

è¿™ä¸ªå·¥å…·ä¸“é—¨ç”¨äºé‡‡é›†äºšé©¬é€Šäº‘ç§‘æŠ€ User Group åœ¨æ´»åŠ¨è¡Œå¹³å°ä¸Šçš„çº¿ä¸‹æ´»åŠ¨ä¿¡æ¯ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–é‡‡é›†ã€å›¾ç‰‡ä¸‹è½½å’Œå¢é‡æ›´æ–°ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… Playwrightï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
npm install playwright

# å®‰è£…æµè§ˆå™¨
npx playwright install chromium
```

### 2. è¿è¡Œé‡‡é›†

```bash
# åŸºç¡€é‡‡é›†ï¼ˆæ¨èï¼‰
npm run scrape:events

# å¼ºåˆ¶é‡æ–°é‡‡é›†æ‰€æœ‰æ´»åŠ¨
npm run scrape:events:force

# è¯¦ç»†è¾“å‡ºæ¨¡å¼
npm run scrape:events:verbose
```

### 3. æŸ¥çœ‹ç»“æœ

```bash
# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
npm run events:stats

# æŸ¥çœ‹æ´»åŠ¨åˆ—è¡¨
npm run events:list

# å¯¼å‡ºCSVæ–‡ä»¶
npm run events:csv
```

## ğŸ“‹ åŠŸèƒ½è¯¦è§£

### é‡‡é›†åŠŸèƒ½

- **è‡ªåŠ¨åˆ†é¡µ**: è‡ªåŠ¨éå†æ‰€æœ‰åˆ†é¡µï¼Œé‡‡é›†å®Œæ•´æ•°æ®
- **å¢é‡æ›´æ–°**: åªé‡‡é›†æ–°æ´»åŠ¨ï¼Œé¿å…é‡å¤
- **å›¾ç‰‡ä¸‹è½½**: è‡ªåŠ¨ä¸‹è½½æ´»åŠ¨å›¾ç‰‡åˆ°æœ¬åœ°
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„æ“ä½œæ—¥å¿—

### æ•°æ®å­—æ®µ

æ¯ä¸ªæ´»åŠ¨åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```json
{
  "id": "æ´»åŠ¨ID",
  "title": "æ´»åŠ¨æ ‡é¢˜", 
  "time": "æ´»åŠ¨æ—¶é—´ (MM/DD HH:MM)",
  "location": "æ´»åŠ¨åœ°ç‚¹",
  "url": "æ´»åŠ¨è¯¦æƒ…é¡µURL",
  "imageUrl": "åŸå§‹å›¾ç‰‡URL",
  "localImage": "æœ¬åœ°å›¾ç‰‡æ–‡ä»¶å",
  "scrapedAt": "é‡‡é›†æ—¶é—´æˆ³"
}
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
data/events/
â”œâ”€â”€ events.json          # æ´»åŠ¨æ•°æ®æ–‡ä»¶
â”œâ”€â”€ events.csv           # CSVå¯¼å‡ºæ–‡ä»¶
â”œâ”€â”€ scraper.log          # é‡‡é›†æ—¥å¿—
â””â”€â”€ images/              # æ´»åŠ¨å›¾ç‰‡ç›®å½•
    â”œâ”€â”€ 3825656249900.jpg
    â”œâ”€â”€ 3825927559300.jpg
    â””â”€â”€ ...
```

## ğŸ› ï¸ é«˜çº§ç”¨æ³•

### æµ‹è¯•å·¥å…·

```bash
# æµ‹è¯•é‡‡é›†å·¥å…·æ˜¯å¦æ­£å¸¸å·¥ä½œ
npm run scrape:test
```

### æ•°æ®æŸ¥çœ‹

```bash
# æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
node scripts/view-events.js --stats

# æ˜¾ç¤ºæ‰€æœ‰æ´»åŠ¨
node scripts/view-events.js --list --all

# æœç´¢ç‰¹å®šæ´»åŠ¨
node scripts/view-events.js --search "Kiro"

# æœç´¢ç‰¹å®šåœ°ç‚¹
node scripts/view-events.js --search "åŒ—äº¬"
```

### è‡ªå®šä¹‰é…ç½®

ç¼–è¾‘ `scripts/event-scraper.js` æ–‡ä»¶å¯ä»¥ä¿®æ”¹ï¼š

- é‡‡é›†é¡µæ•°é™åˆ¶ï¼ˆé»˜è®¤20é¡µï¼‰
- è¯·æ±‚å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤2ç§’ï¼‰
- æ•°æ®ä¿å­˜è·¯å¾„
- å›¾ç‰‡ä¿å­˜è·¯å¾„

## ğŸ”„ å®šæœŸé‡‡é›†

### æ‰‹åŠ¨å®šæœŸè¿è¡Œ

å»ºè®®æ¯å¤©æˆ–æ¯å‘¨è¿è¡Œä¸€æ¬¡ï¼š

```bash
npm run scrape:events
```

### è‡ªåŠ¨åŒ–æ–¹æ¡ˆ

#### 1. ä½¿ç”¨ cron (Linux/Mac)

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ·»åŠ æ¯å¤©ä¸Šåˆ10ç‚¹è¿è¡Œçš„ä»»åŠ¡
0 10 * * * cd /path/to/project && npm run scrape:events
```

#### 2. ä½¿ç”¨ Windows ä»»åŠ¡è®¡åˆ’ç¨‹åº

1. æ‰“å¼€"ä»»åŠ¡è®¡åˆ’ç¨‹åº"
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
3. è®¾ç½®è§¦å‘å™¨ï¼ˆæ¯å¤©/æ¯å‘¨ï¼‰
4. è®¾ç½®æ“ä½œï¼šè¿è¡Œç¨‹åº
   - ç¨‹åºï¼š`cmd`
   - å‚æ•°ï¼š`/c cd /d "C:\path\to\project" && npm run scrape:events`

#### 3. ä½¿ç”¨ GitHub Actions

åˆ›å»º `.github/workflows/scrape-events.yml`ï¼š

```yaml
name: Scrape Events
on:
  schedule:
    - cron: '0 10 * * *'  # æ¯å¤©ä¸Šåˆ10ç‚¹
  workflow_dispatch:      # æ‰‹åŠ¨è§¦å‘

jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm install
      - run: npx playwright install chromium
      - run: npm run scrape:events
      - uses: actions/upload-artifact@v3
        with:
          name: events-data
          path: data/events/
```

## ğŸ“Š æ•°æ®åˆ†æ

### ç»Ÿè®¡ä¿¡æ¯

å·¥å…·æä¾›ä»¥ä¸‹ç»Ÿè®¡ï¼š

- æ€»æ´»åŠ¨æ•°é‡
- æŒ‰åœ°ç‚¹åˆ†å¸ƒ
- æŒ‰æ—¶é—´åˆ†å¸ƒ  
- å›¾ç‰‡ä¸‹è½½æˆåŠŸç‡
- æœ€æ–°æ´»åŠ¨ä¿¡æ¯

### CSVå¯¼å‡º

å¯¼å‡ºçš„CSVæ–‡ä»¶å¯ä»¥ç”¨äºï¼š

- Excelåˆ†æ
- æ•°æ®å¯è§†åŒ–
- ç¬¬ä¸‰æ–¹å·¥å…·é›†æˆ
- æŠ¥è¡¨ç”Ÿæˆ

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Playwright å®‰è£…å¤±è´¥

```bash
# é‡æ–°å®‰è£…
npm uninstall playwright
npm install playwright
npx playwright install chromium
```

#### 2. ç½‘ç»œè¿æ¥é—®é¢˜

- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤å¯ä»¥è®¿é—® `https://usergroup.huodongxing.com/`
- è€ƒè™‘ä½¿ç”¨ä»£ç†ï¼ˆå¦‚éœ€è¦ï¼‰

#### 3. æƒé™é—®é¢˜

```bash
# ç¡®ä¿æœ‰å†™å…¥æƒé™
chmod 755 data/events/
```

#### 4. å†…å­˜ä¸è¶³

- å‡å°‘å¹¶å‘è¯·æ±‚
- å¢åŠ è¯·æ±‚å»¶è¿Ÿæ—¶é—´
- åˆ†æ‰¹å¤„ç†å¤§é‡æ•°æ®

### æ—¥å¿—åˆ†æ

æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f data/events/scraper.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep "ERROR\|Failed" data/events/scraper.log
```

## ğŸ”’ æ³¨æ„äº‹é¡¹

### ä½¿ç”¨è§„èŒƒ

1. **åˆç†é¢‘ç‡**: ä¸è¦è¿‡äºé¢‘ç¹åœ°é‡‡é›†ï¼Œå»ºè®®æ¯å¤©æœ€å¤š1-2æ¬¡
2. **å°Šé‡ç½‘ç«™**: éµå®ˆç›®æ ‡ç½‘ç«™çš„robots.txtå’Œä½¿ç”¨æ¡æ¬¾
3. **æ•°æ®ä½¿ç”¨**: é‡‡é›†çš„æ•°æ®ä»…ç”¨äºåˆæ³•ç”¨é€”
4. **éšç§ä¿æŠ¤**: ä¸è¦é‡‡é›†å’Œå­˜å‚¨ä¸ªäººæ•æ„Ÿä¿¡æ¯

### æŠ€æœ¯é™åˆ¶

1. **åçˆ¬è™«**: ç½‘ç«™å¯èƒ½æœ‰åçˆ¬è™«æœºåˆ¶ï¼Œéœ€è¦é€‚å½“è°ƒæ•´ç­–ç•¥
2. **é¡µé¢å˜åŒ–**: ç½‘ç«™ç»“æ„å˜åŒ–å¯èƒ½å¯¼è‡´é‡‡é›†å¤±è´¥
3. **ç½‘ç»œç¨³å®šæ€§**: ç½‘ç»œä¸ç¨³å®šå¯èƒ½å½±å“é‡‡é›†æ•ˆæœ

## ğŸš€ æ‰©å±•åŠŸèƒ½

### å¯èƒ½çš„æ‰©å±•

1. **é‚®ä»¶é€šçŸ¥**: æ–°æ´»åŠ¨é€šçŸ¥
2. **æ•°æ®åº“å­˜å‚¨**: ä½¿ç”¨æ•°æ®åº“æ›¿ä»£JSONæ–‡ä»¶
3. **Webç•Œé¢**: åˆ›å»ºWebç•Œé¢æŸ¥çœ‹æ•°æ®
4. **APIæ¥å£**: æä¾›REST APIè®¿é—®æ•°æ®
5. **æ•°æ®åˆ†æ**: æ›´æ·±å…¥çš„æ•°æ®åˆ†æå’Œå¯è§†åŒ–

### é›†æˆå»ºè®®

- ä¸ç°æœ‰ç½‘ç«™é›†æˆæ˜¾ç¤ºæ´»åŠ¨
- ä¸æ—¥å†åº”ç”¨åŒæ­¥
- ä¸é€šçŸ¥ç³»ç»Ÿé›†æˆ
- ä¸æ•°æ®åˆ†æå¹³å°é›†æˆ

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`data/events/scraper.log`
2. è¿è¡Œæµ‹è¯•ï¼š`npm run scrape:test`
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œæƒé™
4. æŸ¥çœ‹GitHub Issuesæˆ–æäº¤æ–°é—®é¢˜

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§é¡¹ç›®æ ¹ç›®å½•çš„ LICENSE æ–‡ä»¶